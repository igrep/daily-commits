# 2025/07/28 - 2025/08/03

- custard:
    - [ ] Conjureのサポート
        - 2025/07/28: Custard側を拡張するか...。どうせ必要になるであろう。
            - しかしREPL固有の特殊機能をどういう構文にしようか。やっぱり言語自体の構文と分けないと混乱するだろう。VimやGHCiを見習って`:`でいくか。後あれ、複数のファイルを読み出せるようにする機能、今やるか後回しにするか迷うな。Fennel側で実装したらCustard側で実装したとき無駄になる、と思ったけど、Custard側で実装するの結構大変そうだしやっぱ後回しかなぁ。AIに訊いてみようか
                - DeepWikiやJunie、頼るのはClaude Code以外にもあるし
        - 2025/07/29: 質問した上で、とりあえずcli-repl.tsで複数のファイルを管理できるよう修正着手
            - 理想的には`Env`型のプロパティーを整理したり、ロードしているファイル毎に`Env`をキャッシュする機能を実装した方が良さそう。まあそれは後で！
        - 2025/07/30: 昨日で将来像がちょっと見えたので、それに備えて`Env`を`Context`にリネームしよ
        - 2025/07/31: リネーム完了。で、新しく`Environment`型を別途作ってそこにファイル毎の環境を保存するようにしよう
        - 2025/08/01: `Environment`型を作った。後はcli-repl.tsで使うだけ
        - 2025/08/02: cli-repl.tsに`:load`コマンドを実装出来たはず。細かい内部設計の変更が必要で思ったより大変だった。REPLがテストしづらくなっているのが悩ましい
        - 2025/08/03: cli-repl.tsに`:load`コマンドを作ったのはいいが、コマンドライン引数で指定したファイルを読む機能も必要なのに忘れてた。実装着手
            - 実装しているうちに内部にも色々手を入れたくなって来たので、設計を変更してる。こう言うの本当はAIの方が強いんだろうけど、のんびり型エラーでフィードバックを受けながらやってる
- 読書など:
    - [型システムのしくみ ― TypeScriptで実装しながら学ぶ型とプログラミング言語](https://www.lambdanote.com/products/type-systems)
        - 2025/07/06 - 2025/07/10, 2025/07/12 - 2025/08/03

[先週の記録はこちら](https://github.com/igrep/daily-commits/blob/40860b528617fbc0fd8d180c767c3534f2b49dc2/yesterday.md)
